#!/bin/sh

# Python.

black --check -l 80 python || { echo "FAIL"; exit 1; }
pytest || { echo "FAIL"; exit 1; }

# Rust.

cd rust/osm2lanes
cargo test || { echo "FAIL"; exit 1; }
cd ../..

# Kotlin.

ktlint || { echo "FAIL"; exit 1; }
cd kotlin
gradle clean
gradle test || { echo "FAIL"; exit 1; }
cd ..

exit 0
